 
<div class="row">
    <div class="col-12">
      <button
        class="btn btn-primary createTask float-end"
        type="button"
        data-bs-toggle="modal"
        data-bs-target="#createTask"
        (click)="openModal(content)"
      >
        <i class="ri-add-fill align-bottom"></i> Nueva
      </button>
    </div>
  </div>
  <div class="table-responsive" *ngIf="!loading">
    <table class="table align-middle table-nowrap mb-0">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Nombre</th>
          <th scope="col">Porcentaje</th>
          <th scope="col">Tipo</th> 
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of listado">
          <th scope="row">{{ item.id_descuento }}</th>
          <th scope="row">{{ item.nombre }}</th>
          <th scope="row">{{ item.porcentaje }}</th>
          <th scope="row">{{ item.isItem }}</th> 
          <td class="hstack gap-2">
            <!-- Buttons Group -->
            <button
              type="button"
              class="btn btn-warning waves-effect waves-light"
              (click)="editarRegistro(content, item.id_descuento)"
            >
              <i class="ri-pencil-fill"></i>
            </button>
            <button
              type="button"
              class="btn btn-danger btn-icon waves-effect waves-light"
              (click)="eliminar(item.id_descuento)"
            >
              <i class="ri-delete-bin-5-line"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <div class="row" *ngIf="loading">
    <div class="col-12 text-center">
      <br />
      <br />
      <div class="spinner-border text-primary" role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
  </div>
  
  <!-- Add Todo Data -->
  <ng-template #content role="document" let-modal>
    <div class="modal-header p-3 bg-soft-success">
      <h5 class="modal-title" id="createTaskLabel">Bloques</h5>
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="modal"
        id="createTaskBtn-close"
        aria-label="Close"
        (click)="modal.dismiss('Cross click')"
      ></button>
    </div>
    <div class="modal-body">
      <div id="task-error-msg" class="alert alert-danger py-2"></div>
      <form
        autocomplete="off"
        action=""
        id="creattask-form"
        (ngSubmit)="saveTodo()"
        [formGroup]="todoForm"
      >
        <input type="hidden" id="taskid-input" class="form-control" />
   
        <div class="mb-3">
          <label for="tira-input" class="form-label">Nombre</label>
          <input
            type="text"
            id="nombre-input"
            class="form-control"
            placeholder="Ingrese nombre"
            formControlName="nombre"
            [ngClass]="{ 'is-invalid': submitted && form['nombre'].errors }"
          />
          <div
            *ngIf="submitted && form['nombre'].errors"
            class="invalid-feedback"
          >
            <div *ngIf="form['nombre'].errors['required']">
              La nombre es requerida
            </div>
          </div>
        </div>
        <div class="mb-3">
          <label for="porcentaje-input" class="form-label">Porcentaje</label>
          <input
            type="number"
            id="porcentaje-input"
            class="form-control"
            placeholder="Ingrese porcentaje"
            formControlName="porcentaje"
            [ngClass]="{ 'is-invalid': submitted && form['porcentaje'].errors }"
          />
          <div
            *ngIf="submitted && form['porcentaje'].errors"
            class="invalid-feedback"
          >
            <div *ngIf="form['porcentaje'].errors['required']">
                Porcentaje es requerido
            </div>
          </div>
        </div>
   
   
  
        <div class="mb-3">
          <label for="isItem-input" class="form-label">Tipo</label>
          <select
            class="form-control"
            data-choices
            data-choices-search-false
            id="isItem-input"
            formControlName="isItem"
            [ngClass]="{ 'is-invalid': submitted && form['isItem'].errors }"
          >
            <option value="">Seleccione</option>
            <option *ngFor="let item of listadoTipos" value="{{ item }}">
              {{ item }}
            </option>
          </select>
          <div
            *ngIf="submitted && form['isItem'].errors"
            class="invalid-feedback"
            align="left"
          >
            <div *ngIf="form['isItem'].errors['required']">
              Tipo es requerido
            </div>
          </div>
        </div>
   
        <div class="hstack gap-2 justify-content-end">
          <button
            type="button"
            class="btn btn-ghost-success"
            data-bs-dismiss="modal"
            (click)="modal.dismiss('Cross click')"
          >
            <i class="ri-close-fill align-bottom"></i> Cancelar
          </button>
          <button type="submit" class="btn btn-primary" id="addNewTodo">
            Guardar
          </button>
        </div>
      </form>
    </div>
  </ng-template>
  
  <!-- end auth-page-wrapper -->
  <app-toasts-admin aria-live="polite" aria-atomic="true"></app-toasts-admin>
  